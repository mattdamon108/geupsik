const school = {
  경희: '7021079',
  금성: '7021080',
  군자: '7021082',
  답십리: '7021083',
  동답: '7021084',
  동원: '7021085',
  망우: '7021086',
  면남: '7021087',
  면동: '7021088',
  면목: '7021089',
  면북: '7021090',
  면일: '7021091',
  면중: '7021092',
  묵동: '7021093',
  묵현: '7021094',
  배봉: '7021095',
  봉화: '7021096',
  상봉: '7021097',
  신내: '7021098',
  신답: '7021099',
  신묵: '7021100',
  신현: '7021101',
  안평: '7021102',
  용두: '7021103',
  원묵: '7021104',
  이문: '7021105',
  장평: '7021106',
  전곡: '7021107',
  전농: '7021108',
  전동: '7021109',
  종암: '7021110',
  중곡: '7021111',
  중랑: '7021112',
  중목: '7021113',
  중화: '7021114',
  중흥: '7021115',
  청량: '7021116',
  홍릉: '7021117',
  홍파: '7021118',
  휘경: '7021119',
  휘봉: '7021120',
  은석: '7021121',
  삼육: '7021168',
  새솔: '7021181',
  경기: '7031110',
  명지: '7031111',
  갈현: '7031112',
  고은: '7031113',
  공덕: '7031114',
  구산: '7031115',
  구현: '7031116',
  금화: '7031117',
  녹번: '7031118',
  대신: '7031119',
  대은: '7031120',
  대조: '7031121',
  동교: '7031122',
  마포: '7031123',
  망원: '7031124',
  미동: '7031125',
  북가좌: '7031126',
  북성: '7031127',
  북한산: '7031128',
  불광: '7031129',
  상신: '7031130',
  상암: '7031131',
  상지: '7031132',
  서강: '7031133',
  서교: '7031134',
  서신: '7031135',
  성산: '7031136',
  성서: '7031137',
  성원: '7031138',
  소의: '7031139',
  수색: '7031140',
  신도: '7031141',
  신북: '7031142',
  신사: '7031143',
  신석: '7031144',
  아현: '7031145',
  안산: '7031146',
  역촌: '7031147',
  연가: '7031148',
  연광: '7031149',
  연신: '7031150',
  연은: '7031151',
  연천: '7031152',
  연희: '7031153',
  염리: '7031154',
  용강: '7031155',
  은명: '7031156',
  은진: '7031157',
  은평: '7031158',
  응암: '7031159',
  인왕: '7031160',
  중동: '7031161',
  증산: '7031162',
  진관: '7031163',
  창서: '7031164',
  창천: '7031165',
  한서: '7031166',
  홍연: '7031167',
  홍은: '7031168',
  홍제: '7031169',
  선일: '7031170',
  예일: '7031172',
  은혜: '7031173',
  이화여자대학교사범대학부속: '7031174',
  추계: '7031175',
  충암: '7031176',
  홍익대학교사범대학부속: '7031177',
  수리: '7031230',
  하늘: '7031231',
  은빛: '7031232',
  가재울: '7031278',
  어울: '7031285',
  동광: '7041099',
  가산: '7041100',
  개명: '7041101',
  개봉: '7041102',
  개웅: '7041103',
  고산: '7041104',
  고원: '7041105',
  고척: '7041106',
  구로남: '7041107',
  구로: '7041108',
  구일: '7041109',
  금동: '7041110',
  금산: '7041111',
  금천: '7041112',
  당산: '7041113',
  당서: '7041114',
  당중: '7041115',
  대길: '7041116',
  대동: '7041117',
  대방: '7041118',
  대영: '7041119',
  덕의: '7041120',
  도림: '7041121',
  도신: '7041122',
  독산: '7041123',
  동구로: '7041124',
  두산: '7041125',
  매봉: '7041126',
  문교: '7041127',
  문래: '7041128',
  문백: '7041129',
  문성: '7041130',
  미래: '7041131',
  백산: '7041132',
  선유: '7041133',
  세곡: '7041134',
  시흥: '7041135',
  신구로: '7041136',
  신대림: '7041137',
  신도림: '7041138',
  신미림: '7041139',
  신영: '7041140',
  신흥: '7041141',
  안천: '7041142',
  여의도: '7041143',
  영남: '7041144',
  영동: '7041145',
  영등포: '7041146',
  영림: '7041147',
  영문: '7041148',
  영서: '7041149',
  영신: '7041150',
  영원: '7041151',
  영일: '7041152',
  영중: '7041153',
  오류남: '7041154',
  오류: '7041155',
  오정: '7041156',
  온수: '7041157',
  우신: '7041158',
  윤중: '7041159',
  정심: '7041160',
  탑동: '7041161',
  천왕: '7041209',
  천이: '7041254',
  금나래: '7041260',
  하늘숲: '7041266',
  항동: '7041267',
  동북: '7051109',
  상명: '7051110',
  가인: '7051111',
  계상: '7051112',
  공릉: '7051113',
  공연: '7051114',
  노원: '7051115',
  노일: '7051116',
  녹천: '7051117',
  누원: '7051118',
  당현: '7051119',
  덕암: '7051120',
  도봉: '7051121',
  동일: '7051122',
  방학: '7051123',
  백운: '7051124',
  불암: '7051125',
  상경: '7051126',
  상계: '7051127',
  상곡: '7051128',
  상수: '7051129',
  상원: '7051130',
  상월: '7051131',
  상천: '7051132',
  선곡: '7051133',
  수락: '7051134',
  수암: '7051135',
  숭미: '7051136',
  신계: '7051137',
  신방학: '7051138',
  신상계: '7051139',
  신창: '7051140',
  신학: '7051141',
  신화: '7051142',
  쌍문: '7051143',
  연지: '7051144',
  연촌: '7051145',
  오봉: '7051146',
  온곡: '7051147',
  용동: '7051148',
  용원: '7051149',
  원광: '7051150',
  월계: '7051151',
  월천: '7051152',
  을지: '7051153',
  자운: '7051154',
  중계: '7051155',
  중원: '7051156',
  중평: '7051157',
  중현: '7051158',
  창경: '7051159',
  창도: '7051160',
  창동: '7051161',
  창림: '7051162',
  창원: '7051163',
  창일: '7051164',
  청계: '7051165',
  초당: '7051166',
  태랑: '7051167',
  태릉: '7051168',
  한천: '7051169',
  청원: '7051170',
  태강삼육: '7051171',
  한신: '7051172',
  화랑: '7051173',
  동산: '7061054',
  리라: '7061055',
  상명대학교사범대학부속: '7061056',
  광희: '7061057',
  교동: '7061058',
  금양: '7061059',
  남산: '7061060',
  남정: '7061061',
  덕수: '7061062',
  독립문: '7061063',
  매동: '7061064',
  명신: '7061065',
  보광: '7061066',
  봉래: '7061067',
  삼광: '7061068',
  서빙고: '7061069',
  세검정: '7061070',
  숭신: '7061071',
  신당: '7061072',
  신용산: '7061073',
  용산: '7061074',
  용암: '7061075',
  원효: '7061076',
  이태원: '7061077',
  장충: '7061078',
  재동: '7061079',
  창신: '7061080',
  청구: '7061081',
  청운: '7061082',
  청파: '7061083',
  충무: '7061084',
  한강: '7061085',
  한남: '7061086',
  혜화: '7061087',
  효제: '7061088',
  후암: '7061089',
  흥인: '7061090',
  숭의: '7061091',
  신광: '7061092',
  운현: '7061093',
  서울대학교사범대학부설: '7061128',
  가곡: '7081418',
  가양: '7081419',
  갈산: '7081420',
  강서: '7081421',
  강신: '7081422',
  강월: '7081423',
  개화: '7081424',
  경인: '7081425',
  계남: '7081426',
  공진: '7081427',
  공항: '7081428',
  남명: '7081429',
  내발산: '7081430',
  등마: '7081431',
  등명: '7081432',
  등서: '7081433',
  등양: '7081434',
  등원: '7081435',
  등촌: '7081436',
  등현: '7081437',
  목동: '7081438',
  목운: '7081439',
  목원: '7081440',
  발산: '7081441',
  방화: '7081442',
  백석: '7081443',
  삼정: '7081444',
  서정: '7081445',
  송정: '7081446',
  송화: '7081447',
  수명: '7081448',
  신강: '7081449',
  신곡: '7081450',
  신기: '7081451',
  신남: '7081452',
  신목: '7081453',
  신서: '7081454',
  신원: '7081455',
  신월: '7081456',
  신정: '7081457',
  양강: '7081458',
  양동: '7081459',
  양명: '7081460',
  양목: '7081461',
  양원: '7081462',
  양천: '7081463',
  양화: '7081464',
  염강: '7081465',
  염경: '7081466',
  염동: '7081467',
  염창: '7081468',
  영도: '7081469',
  우장: '7081470',
  월정: '7081471',
  월촌: '7081472',
  은정: '7081473',
  장수: '7081474',
  정곡: '7081475',
  정목: '7081476',
  지향: '7081477',
  치현: '7081478',
  탑산: '7081479',
  화곡: '7081480',
  화일: '7081481',
  신은: '7081482',
  유석: '7081483',
  서울교육대학교부설: '7091367',
  계성: '7091368',
  개원: '7091369',
  개일: '7091370',
  개포: '7091371',
  구룡: '7091372',
  논현: '7091373',
  대곡: '7091374',
  대도: '7091375',
  대모: '7091376',
  대왕: '7091377',
  대진: '7091378',
  대청: '7091379',
  대치: '7091380',
  대현: '7091381',
  도곡: '7091382',
  도성: '7091383',
  매헌: '7091384',
  반원: '7091385',
  반포: '7091386',
  방배: '7091387',
  방일: '7091388',
  방현: '7091389',
  봉은: '7091390',
  삼릉: '7091391',
  서래: '7091392',
  서원: '7091393',
  서이: '7091394',
  서일: '7091395',
  서초: '7091396',
  수서: '7091397',
  신구: '7091398',
  신동: '7091399',
  신중: '7091400',
  압구정: '7091401',
  양재: '7091402',
  양전: '7091403',
  언남: '7091404',
  언북: '7091405',
  언주: '7091406',
  역삼: '7091407',
  영희: '7091408',
  왕북: '7091409',
  우암: '7091410',
  원명: '7091411',
  원촌: '7091412',
  이수: '7091413',
  일원: '7091414',
  잠원: '7091415',
  청담: '7091416',
  포이: '7091417',
  학동: '7091418',
  우면: '7091419',
  세명: '7091458',
  우솔: '7091460',
  율현: '7091468',
  자곡: '7091469',
  개운: '7121298',
  길원: '7121299',
  길음: '7121300',
  돈암: '7121301',
  동신: '7121302',
  미아: '7121303',
  미양: '7121304',
  번동: '7121305',
  삼각산: '7121306',
  삼선: '7121307',
  삼양: '7121308',
  석계: '7121309',
  석관: '7121310',
  성북: '7121311',
  송중: '7121312',
  송천: '7121313',
  수송: '7121314',
  수유: '7121315',
  숭곡: '7121316',
  숭덕: '7121317',
  숭례: '7121318',
  숭인: '7121319',
  안암: '7121320',
  오현: '7121321',
  우이: '7121322',
  월곡: '7121323',
  유현: '7121324',
  인수: '7121325',
  일신: '7121326',
  장곡: '7121327',
  장월: '7121328',
  장위: '7121329',
  정덕: '7121330',
  정릉: '7121331',
  정수: '7121332',
  청덕: '7121333',
  화계: '7121334',
  광운: '7121335',
  대광: '7121336',
  매원: '7121337',
  성신: '7121338',
  영훈: '7121339',
  우촌: '7121340',
  가동: '7130101',
  가락: '7130102',
  가원: '7130103',
  가주: '7130104',
  강덕: '7130105',
  강동: '7130106',
  강명: '7130107',
  강일: '7130108',
  개롱: '7130109',
  거여: '7130110',
  거원: '7130111',
  고덕: '7130112',
  고명: '7130113',
  고일: '7130114',
  길동: '7130115',
  남천: '7130116',
  대명: '7130117',
  둔촌: '7130118',
  마천: '7130119',
  명덕: '7130120',
  명원: '7130121',
  명일: '7130122',
  묘곡: '7130123',
  문덕: '7130124',
  문정: '7130125',
  문현: '7130126',
  방산: '7130127',
  방이: '7130128',
  버들: '7130129',
  삼전: '7130130',
  상일: '7130131',
  석촌: '7130132',
  선린: '7130133',
  선사: '7130134',
  성내: '7130135',
  성일: '7130136',
  세륜: '7130137',
  송례: '7130138',
  송전: '7130139',
  송파: '7130140',
  신가: '7130141',
  신명: '7130142',
  신암: '7130143',
  신천: '7130144',
  아주: '7130145',
  영풍: '7130146',
  오금: '7130147',
  오륜: '7130148',
  위례: '7130149',
  잠동: '7130150',
  잠신: '7130151',
  잠실: '7130152',
  잠일: '7130153',
  잠전: '7130154',
  잠현: '7130155',
  중대: '7130156',
  천동: '7130157',
  천일: '7130158',
  천호: '7130159',
  토성: '7130160',
  평화: '7130161',
  풍납: '7130162',
  풍성: '7130163',
  한산: '7130164',
  위례별: '7130245',
  강솔: '7130251',
  해누리: '7130255',
  강빛: '7130266',
  강남: '7132080',
  관악: '7132081',
  구암: '7132082',
  난곡: '7132083',
  난우: '7132084',
  난향: '7132085',
  남부: '7132086',
  남사: '7132087',
  남성: '7132088',
  노량진: '7132089',
  당곡: '7132090',
  대림: '7132091',
  동작: '7132092',
  문창: '7132093',
  미성: '7132094',
  보라매: '7132095',
  본동: '7132096',
  봉천: '7132097',
  봉현: '7132098',
  사당: '7132099',
  삼성: '7132100',
  삼일: '7132101',
  상도: '7132102',
  상현: '7132103',
  신길: '7132104',
  신남성: '7132105',
  신림: '7132106',
  신봉: '7132107',
  신상도: '7132108',
  신성: '7132109',
  신우: '7132110',
  영본: '7132111',
  영화: '7132112',
  원당: '7132113',
  원신: '7132114',
  은로: '7132115',
  은천: '7132116',
  인헌: '7132117',
  조원: '7132118',
  청룡: '7132119',
  행림: '7132120',
  흑석: '7132121',
  중앙대학교사범대학부속: '7132122',
  경복: '7134077',
  경동: '7134078',
  경수: '7134079',
  경일: '7134080',
  광남: '7134081',
  광장: '7134082',
  광진: '7134083',
  구남: '7134084',
  구의: '7134085',
  금북: '7134086',
  금옥: '7134087',
  금호: '7134088',
  동명: '7134089',
  동의: '7134090',
  동자: '7134091',
  동호: '7134092',
  마장: '7134093',
  무학: '7134094',
  사근: '7134095',
  성수: '7134096',
  성자: '7134097',
  송원: '7134098',
  신양: '7134099',
  신자: '7134100',
  양남: '7134101',
  양진: '7134102',
  옥수: '7134103',
  옥정: '7134104',
  용곡: '7134105',
  용답: '7134106',
  용마: '7134107',
  응봉: '7134108',
  자양: '7134109',
  장안: '7134110',
  중광: '7134111',
  중마: '7134112',
  행당: '7134113',
  행현: '7134114',
  화양: '7134115',
  성동: '7134116',
  세종: '7134117',
  한양: '7134118',
  숭신: '7134150',
};
if (localStorage.getItem('schoolcode')) {
  var schoolname = 'defined';
  var schoolcode = localStorage.getItem('schoolcode');
} else {
  var schoolname = prompt('학교 이름을 입력하세요. ("서울"과 "초등학교"은 빼고 쓰세요.  ex.답십리)')
  if (school[schoolname] === undefined) {
    var schoolname = prompt('학교를 찾을 수 없습니다. 다시 입력하세요.');
    var schoolcode = school[schoolname];
    localStorage.setItem('schoolcode', schoolcode);
  } else {
    var schoolcode = school[schoolname];
    localStorage.setItem('schoolcode', schoolcode);
  }
}
console.log(schoolname);
console.log(schoolcode);
var today = new Date();
var year = today.getFullYear(); // 년도
var month = today.getMonth() + 1; // 월
if (month < 10) {
  var month = `0${month}`;
}
var date = today.getDate(); // 날짜
if (date < 10) {
  var date = `0${date}`;
}
var day = today.getDay();
const WEEKDAY = ['SUN', 'MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT'];
var day = WEEKDAY[day];

var requestUrl = `https://open.neis.go.kr/hub/mealServiceDietInfo?KEY=4c1690204c08404ca7f1775720f17054&Type=json&pIndex=1&pSize=100&ATPT_OFCDC_SC_CODE=B10&SD_SCHUL_CODE=${schoolcode}&MLSV_YMD=${year}${month}${date}`;
fetch(requestUrl)
  .then((res) => res.json())
  .then((res) => {
    console.log(day);
    if (day === 'SAT' || day === 'SUN') {
      document.write(
        `<h1 style="font-family: 'SBAggroL'; text-align:center; padding-top: 160px;">오늘은 급식이 <br>없는 날입니다.</h1>`,
      );
      document.title = `급식`;
    } else {
      var meal = res['mealServiceDietInfo'][1].row[0].DDISH_NM.replace(
        /[0-9]/g,
        '',
      );
      var meal = meal.replace(/\./g, '');
      document.title = `${res['mealServiceDietInfo'][1].row[0].SCHUL_NM}의 급식`;
      document.write(
        `<h3 style="font-family: 'SBAggroL'; text-align:center; padding-top: 60px;">${meal.replace(
          '우유',
          '',
        )}</h3>`,
      );
    }
  });